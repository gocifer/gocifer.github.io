(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{445:function(s,t,n){"use strict";n.r(t);var e=n(6),r=Object(e.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"network"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#network"}},[s._v("#")]),s._v(" Network")]),s._v(" "),n("h2",{attrs:{id:"tools"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#tools"}},[s._v("#")]),s._v(" tools")]),s._v(" "),n("p",[s._v("https://linux.cn/article-3144-1.html")]),s._v(" "),n("h2",{attrs:{id:"mtr-诊断网络问题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#mtr-诊断网络问题"}},[s._v("#")]),s._v(" MTR 诊断网络问题")]),s._v(" "),n("blockquote",[n("p",[s._v("http://blog.csdn.net/fangyihang1262/article/details/72934611")])]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mtr -h 提供帮助命令\nmtr -v 显示mtr的版本信息\nmtr -r 已报告模式显示\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("hr"),s._v(" "),n("ul",[n("li",[n("p",[s._v("在 Debian 和 Ubuntu 系统上，发出以下命令:\n"),n("code",[s._v("apt-get install mtr-tiny")])])]),s._v(" "),n("li",[n("p",[s._v("在 CentOS 和 Fedora 系统上，您将要发出以下命令安装 MTR 程序：\n"),n("code",[s._v("yum install mtr")])])]),s._v(" "),n("li",[n("p",[s._v("在 Arch Linux 系统上，会发出以下命令来安装MTR：\n"),n("code",[s._v("pacman -S mtr")])])]),s._v(" "),n("li",[n("p",[s._v("在 Windows 上安装\n对于 Windows，有一个名为 “WinMTR” 的 MTR 版本。您可以从 WinMTR 上游下载此应用程序。")])]),s._v(" "),n("li",[n("p",[s._v("在 Mac OS X 上安装\n如果您运行的是 Mac OS X 工作站，则可以使用 Homebrew 或 MacPorts 来安装 MTR。要使用 - - ---")])]),s._v(" "),n("li",[n("p",[s._v("Homebrew 安装 MTR，请运行：\n"),n("code",[s._v("brew install mtr")])])]),s._v(" "),n("li",[n("p",[s._v("要使用 MacPorts 安装 MTR，请运行：\n"),n("code",[s._v("port install mtr")])])])]),s._v(" "),n("hr"),s._v(" "),n("blockquote",[n("p",[n("strong",[s._v("生成 MTR 报告")]),s._v("\n因为 MTR 提供了从一个主机到另一个主机的路由流量的映像，您可以将其视为定向工具。此外，在因特网上两点之间采取的路由可能会根据位置和位于您上游的路由器而有很大变化。因此，通常建议您在遇到连接问题的所有主机或尽可能多的主机时双向收集 MTR 报告。")])]),s._v(" "),n("p",[n("code",[s._v("mtr -rw [destination_host]")])]),s._v(" "),n("p",[s._v("例如，要测试到目标主机 example.com 的流量的路由和连接质量，请从所需的源主机运行以下命令：")]),s._v(" "),n("p",[n("code",[s._v("mtr -rwc 50 -i 0.2 -rw 12.34.56.78")])]),s._v(" "),n("p",[s._v("我们上面使用的标志（rwc [x] -i [y]）在很有用。")]),s._v(" "),n("p",[s._v("第三列 Loss: 是显示的每个对应IP的丢包率")]),s._v(" "),n("p",[s._v("第四列 Last: 显示的最近一次的返回时延")]),s._v(" "),n("p",[s._v("第五列 Avg : 是平均值 这个应该是发送ping包的平均时延")]),s._v(" "),n("p",[s._v("第六列 Best: 是最好或者说时延最短的")]),s._v(" "),n("p",[s._v("第七列 Wrst: 是最差或者说时延最常的")]),s._v(" "),n("p",[s._v("第八列 StDev: 是标准偏差")]),s._v(" "),n("hr"),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("usage: mtr [-hvrwctglspniu46] [--help] [--version] [--report]\n[--report-wide] [--report-cycles=COUNT] [--curses] [--gtk]\n[--raw] [--split] [--no-dns] [--address interface]\n[--psize=bytes/-s bytes]\n[--interval=SECONDS] HOSTNAME [PACKETSIZE]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("相关参数：")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mtr -s 用来指定ping数据包的大小\nmtr -n no-dns不对IP地址做域名解析\nmtr -a 来设置发送数据包的IP地址 这个对一个主机由多个IP地址是有用的\nmtr -i 使用这个参数来设置ICMP返回之间的要求默认是1秒,-i可以让以更快的速率运行报告，以显示只能在网络拥塞期间发生的数据包丢失。该标志指示 MTR 每n秒发送一个数据包。默认值为1秒，因此将其设置为十分之一秒（0.1，0.2等）通常是有帮助的。\nmtr -4 IPv4\nmtr -6 IPv6\n-r 选项标志生成报告（缩写为–report）。\n-w 选项标志使用长版本的主机名，您可以看到每个跳的完整主机名（–report-wide的缩写）。\n-c 选项标志设置报告中发送和记录的数据包数量。当不使用时，默认值通常为 10，但是对于更快的间隔，您可能希望将其设置为 50 或 100.报告可能需要较长时间才能完成。\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])])])}),[],!1,null,null,null);t.default=r.exports}}]);