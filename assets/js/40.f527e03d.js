(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{454:function(s,a,n){"use strict";n.r(a);var t=n(6),e=Object(t.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h1",{attrs:{id:"磁盘加密"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#磁盘加密"}},[s._v("#")]),s._v(" 磁盘加密")]),s._v(" "),n("h2",{attrs:{id:"加密挂载"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#加密挂载"}},[s._v("#")]),s._v(" 加密挂载")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("cryptsetup luksFormat /dev/sda6     //加密分区  \nOR: cryptsetup -v -y -c aes-cbc-plain luksFormat /dev/sdb1  \n\ncryptsetup open /dev/sda6 gs    //映射分区  \n\n//挂载使用  \nmkfs.vfat /dev/mapper/gs\nmount /dev/mapper/gs /mnt\n\numount /dev/mapper/gs\ncryptsetup close gs\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("h2",{attrs:{id:"开机自动解密挂载"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#开机自动解密挂载"}},[s._v("#")]),s._v(" 开机自动解密挂载")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('#   touch /root/luksgs  //生成密钥文件\n#   cryptsetup luksAddKey /dev/sda6 /root/luksgs\n#   cat /etc/crypttab \n \n　　GS /dev/sda6 /root/luksgs  \n　　\n　　//sx_disk为映射名称，/dev/sdb1是加密设备设备，/root/cryptpasswd为密码文件，如果想开机手动输入密码，密码文件处空着即可 \n \n#   echo "......" >> /etc/fstab \n \n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("h2",{attrs:{id:"禁止进入单用户模式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#禁止进入单用户模式"}},[s._v("#")]),s._v(" 禁止进入单用户模式")]),s._v(" "),n("p",[s._v("给grub加个密码,增禁止他人以单用户模式进入系统. 有2个方式：")]),s._v(" "),n("p",[n("code",[s._v("vim /boot/grub/grub.conf")]),n("br"),s._v("\n或者"),n("br"),s._v(" "),n("code",[s._v("vim /etc/grub.conf")]),s._v("（/etc/grub.conf是/boot/grub/grub.conf的符号链接），")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("1、明文方式：在splashimage这个参数下一行添加: password=密码。\n \n　　　保存后重新启动计算机，再次登录到GRUB菜单页面的时候就会发现，这时已经不能直接使用e命令编辑启动标签了，须先使用p命令，输入正确的密码后才能够对启动标签进行编辑.   \n \n　　　我们设置了明文密码也不是很安全的，如果他人得到了明文密码后仍然可以修改GRUB启动标签从而修改root密码。\n \n2、MD5加密方式：在终端中输入grub-md5-crypt回车，这时系统会要求输入两次相同的密码，之后系统便会输出MD5码。 \n \n　　　大家只需要将生成的MD5密文复制下来，在splashimage这个参数下一行添加: password --md5 MD5密文比如:             \n \n　　　#grub-md5-crypt    \n \n         splashimage=(hd0,0)/grub/splash.xpm.gz                \n \n　　　password --md5 $1$xI6vS$Wi5pi8JyORUNnj3/0Yq2/0                \n \n         hiddenmenu  \n \n        保存后重新启动计算机，再次登录到GRUB菜单页面的时候就会发现，这时已经不能直接使用e命令编辑启动标签了，须先使用p命令，输入正确的密码后才能够对启动标签进行编辑。\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);