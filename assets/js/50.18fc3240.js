(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{464:function(e,a,s){"use strict";s.r(a);var n=s(6),t=Object(n.a)({},(function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"nvidia-问题解决"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nvidia-问题解决"}},[e._v("#")]),e._v(" NVIDIA 问题解决")]),e._v(" "),s("p",[e._v("[toc]")]),e._v(" "),s("h1",{attrs:{id:"fedora-28-27-26-nvidia-drivers-install-guide"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fedora-28-27-26-nvidia-drivers-install-guide"}},[e._v("#")]),e._v(" Fedora 28/27/26 nVidia Drivers Install Guide")]),e._v(" "),s("blockquote",[s("ul",[s("li",[e._v("https://linuxhint.com/install-nvidia-drivers-fedora/")]),e._v(" "),s("li",[e._v("https://www.if-not-true-then-false.com/2015/fedora-nvidia-guide/")]),e._v(" "),s("li",[e._v("https://www.if-not-true-then-false.com/2015/fedora-nvidia-guide/4/#download-nvidia-patched-installer")]),e._v(" "),s("li",[e._v("https://www.if-not-true-then-false.com/2015/fedora-nvidia-guide/3/")])])]),e._v(" "),s("h2",{attrs:{id:"an-easy-way"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#an-easy-way"}},[e._v("#")]),e._v(" An easy way")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("dnf config-manager --add-repo=https://negativo17.org/repos/fedora-nvidia.repo\n\nyum-config-manager --add-repo=https://negativo17.org/repos/epel-nvidia.repo\n\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br")])]),s("p",[e._v("the Nvidia software packages are available for installation by default also in Gnome Software.")]),e._v(" "),s("h3",{attrs:{id:"or-bumblee"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#or-bumblee"}},[e._v("#")]),e._v(" OR:bumblee")]),e._v(" "),s("blockquote",[s("p",[s("a",{attrs:{href:"https://docs.fedoraproject.org/en-US/quick-docs/bumblebee/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("refer more for uninstallation、usage、monitor_about"),s("OutboundLink")],1)])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("sudo dnf install nvidia-driver nvidia-settings kernel-devel akmod-nvidia dkms acpi\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("ul",[s("li",[e._v("To get Bumblebee, we first need to enable the https://copr.fedorainfracloud.org/coprs/chenxiaolong/bumblebee/ chenxiaolong/bumblebee[Copr repository]:")])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("# dnf copr enable chenxiaolong/bumblebee\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("ul",[s("li",[e._v("Next, install the bbswitch driver, and the bumblebee and primus packages.")])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("# dnf install akmod-bbswitch bumblebee primus\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("ul",[s("li",[e._v("For the optirun and primusrun commands to work, the current user must be added to the bumblebee group.")])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("# gpasswd -a $USER bumblebee\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("ul",[s("li",[e._v("Enable the bumblebeed service and disable the nvidia-fallback service. This service comes from the Negativo17 drivers and will attempt to load nouveau if nvidia fails to load. However, when using Bumblebee, neither one should load at boot.")])]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("# systemctl enable bumblebeed\n# systemctl disable nvidia-fallback\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("ul",[s("li",[e._v("Finally, reboot and bumblebee should be ready to go.")])]),e._v(" "),s("h2",{attrs:{id:"from-office-site"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#from-office-site"}},[e._v("#")]),e._v(" from office site")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("sudo systemctl disable nvidia-fallback\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("Nvidia LogoThis is guide, howto install nVidia proprietary drivers on Fedora 28/27/26/25/24/23/22/21 and disable Nouveau driver. This guide works with GeForce 6/7/8/9/200/300/400/500/600/700/800/900/10 series cards.")]),e._v(" "),s("blockquote",[s("p",[e._v("GeForce 400/500/600/700/800/900/10 series cards works with 390.xx and 396.xx nVidia drivers")])]),e._v(" "),s("blockquote",[s("p",[e._v("GeForce 8/9/200/300 series cards works with 340.xx nVidia drivers")])]),e._v(" "),s("blockquote",[s("p",[e._v("GeForce 6/7 series cards works with 304.xx nVidia drivers")])]),e._v(" "),s("p",[e._v("This is totally different guide than my earlier guides, like Fedora 20 nVidia driver install. This guide uses nVidia drivers directly from nVidia site and dkms to help on kernel updates. Have to say that I have had and heard strange problems with different repos (like RPMFusion) nVidia drivers. So that’s why I decided go back to old school (and bit ugly) method and install nVidia drivers “manually”. I have tested this guide with 304.xx (patched), 340.xx (patched), 390.xx, 396.xx drivers/cards.")]),e._v(" "),s("p",[e._v("With DKMS, you can just update your kernel and your nVidia drivers are compiled automatically. If you want to upgrade nVidia drivers, then you have to download new installer package from nVidia site.")]),e._v(" "),s("p",[e._v("if you succeed, you could post output of following commands:")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('nvidia-installer -v |grep version\n\nuname -a\n\nlspci |grep -E "VGA|3D"\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br")])]),s("p",[e._v("Backup first important files before you start installation. And this is of course at your own risk, because graphic cards, components and monitors are different and some combinations might cause totally unexpected results.")]),e._v(" "),s("h2",{attrs:{id:"_1-before-nvidia-drivers-installation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-before-nvidia-drivers-installation"}},[e._v("#")]),e._v(" 1. Before nVidia drivers installation")]),e._v(" "),s("h3",{attrs:{id:"_1-1-check-is-your-nvidia-card-supported"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-check-is-your-nvidia-card-supported"}},[e._v("#")]),e._v(" 1.1 Check is your nVidia card supported")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('lspci |grep -E "VGA|3D"\n\n## Example outputs ##\n01:00.0 VGA compatible controller: NVIDIA Corporation GF119 [GeForce GT 610] (rev a1)\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br")])]),s("p",[e._v("List of Supported NVIDIA GPU Products, if your card found before 340.xx section, then use 396.xx, or 390.xx drivers and if between 340.xx and 304.xx sections, then use 340.xx drivers and if after 304.xx section, then use 304.xx drivers.")]),e._v(" "),s("p",[e._v("If you see multiple VGA controllers, then check next step and sometimes you might see example Intel VGA controller which have nothing to do with Optimus, normally you can go to BIOS and simply disable it.")]),e._v(" "),s("h3",{attrs:{id:"_1-2-nvidia-optimus-technology"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-nvidia-optimus-technology"}},[e._v("#")]),e._v(" 1.2 NVIDIA Optimus Technology")]),e._v(" "),s("p",[e._v("If your lspci |grep -E “VGA|3D” output looks like following:")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("00:02.0 VGA compatible controller: Intel Corporation 2n Generation Core Processor Family Integrated Graphics Controller (rev 09)\n01:00.0 VGA compatible controller: nVidia Corporation GF106 [GeForce GT 555M SDDR3] (rev a1)\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("p",[e._v("Or")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("00:02.0 VGA compatible controller: Intel Corporation 4th Gen Core Processor Integrated Graphics Controller (rev 06)\n01:00.0 3D controller: NVIDIA Corporation GK107M [GeForce GT 750M] (rev a1)\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("p",[e._v("Or you know that your computer have NVIDIA Optimus Technology, and it is impossible to turn Intel Graphics / NVIDIA Optimus off in the BIOS then this guide might not work for you and it’s not tested. You should check Bumblebee Project.")]),e._v(" "),s("h3",{attrs:{id:"_1-3-disable-uefi-secure-boot-or-check-howto-sign-nvidia-kernel-module"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-disable-uefi-secure-boot-or-check-howto-sign-nvidia-kernel-module"}},[e._v("#")]),e._v(" 1.3 Disable UEFI Secure Boot or Check Howto Sign NVIDIA Kernel Module")]),e._v(" "),s("p",[e._v("If you have UEFI Secure Boot enabled, then you have to disable Secure Boot or sign your NVIDIA kernel module.")]),e._v(" "),s("h2",{attrs:{id:"_2-install-nvidia-proprietary-drivers-on-fedora-28-27-26-25-24-23-22-21-and-disable-the-nouveau-driver"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-install-nvidia-proprietary-drivers-on-fedora-28-27-26-25-24-23-22-21-and-disable-the-nouveau-driver"}},[e._v("#")]),e._v(" 2. Install nVidia proprietary drivers on Fedora 28/27/26/25/24/23/22/21 and disable the nouveau driver")]),e._v(" "),s("h3",{attrs:{id:"_2-1-download-nvidia-installer-package"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-download-nvidia-installer-package"}},[e._v("#")]),e._v(" 2.1 Download nVidia Installer Package")]),e._v(" "),s("blockquote",[s("p",[e._v("Go to http://www.nvidia.com/Download/Find.aspx?lang=en-us\nand find latest version of installer package.")])]),e._v(" "),s("p",[e._v("Tested versions:")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("Fedora 28\tFedora 27\tFedora 26\tFedora 25/24/23/22/21\n396.45 (July 19, 2018)\t396.45 (July 19, 2018)\t396.45 (July 19, 2018)\t396.45 (July 19, 2018)\n390.77 (July 16, 2018)\t390.77 (July 16, 2018)\t390.77 (July 16, 2018)\t390.77 (July 16, 2018)\n340.107 (June 6, 2018)\t340.107 (June 6, 2018)\t340.107 (June 6, 2018)\t340.107 (June 6, 2018)\n304.137 (September 19, 2017)\t304.137 (September 19, 2017)\t304.137 ```\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br")])]),s("p",[e._v("(September 19, 2017)\nNote Fedora 28/27/26 users: 396.45 and 390.77 are only version which works without patch with kernel 4.17. Currently you can also use patched 340.107 with Fedora 28/27/26 kernel 4.17.")]),e._v(" "),s("p",[e._v("Note 340.107 users: 340.107 on Fedora 28/27/26/25 Kernel 4.17/4.16/4.15/4.14/4.13/4.12/4.11 needs a patched version (Download NVIDIA-Linux-x86_64-340.107 + Kernel 4.17/4.16/4.15/4.14/4.13/4.12/4.11 patched version).")]),e._v(" "),s("p",[e._v("Note 304.137 users: 304.137 on Fedora 27/26 (old kernel 4.15) and 25/24/23 – installs and boot, but doesn’t work with Gnome 3.26/3.24/3.22/3.20/3.18. Other DEs/WMs should work normally. Kernel 4.15/4.14 needs a patched version (Download NVIDIA-Linux-x86_64-304.137 with Kernel 4.14+ patch)")]),e._v(" "),s("h3",{attrs:{id:"_2-2-make-nvidia-installer-executable"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-make-nvidia-installer-executable"}},[e._v("#")]),e._v(" 2.2 Make nVidia installer executable")]),e._v(" "),s("p",[s("code",[e._v("chmod +x /path/to/NVIDIA-Linux-*.run")])]),e._v(" "),s("h3",{attrs:{id:"_2-3-change-root-user"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-change-root-user"}},[e._v("#")]),e._v(" 2.3 Change root user")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("su -\n## OR ##\nsudo -i\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br")])]),s("h3",{attrs:{id:"_2-4-make-sure-that-you-system-is-up-to-date-and-you-are-running-latest-kerne"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-make-sure-that-you-system-is-up-to-date-and-you-are-running-latest-kerne"}},[e._v("#")]),e._v(" 2.4 Make sure that you system is up-to-date and you are running latest kerne")]),e._v(" "),s("p",[e._v("l\nIf you have exclude=xorg-x11* row in your /etc/dnf/dnf.conf, then you can remove it now and update xorg too.")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("## Fedora 28/27/26/25/24/23/22 ##\ndnf update\n\n## Fedora 21 ##\nyum update\nAfter update reboot your system and boot using latest kernel:\n\n\nreboot\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br")])]),s("h3",{attrs:{id:"_2-5-install-needed-dependencies"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-install-needed-dependencies"}},[e._v("#")]),e._v(" 2.5 Install needed dependencies")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("## Fedora 28/27/26/25/24/23/22 ##\ndnf install kernel-devel kernel-headers gcc dkms acpid libglvnd-glx libglvnd-opengl libglvnd-devel pkgconfig kernel-doc gcc\\* glibc\\* glibc-\\*\n\n## Fedora 21 ##\nyum install kernel-devel kernel-headers gcc dkms acpid\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br")])]),s("p",[e._v("有时候 glx-utils.x86_64 会和驱动程序冲突，最好先删除掉：\n"),s("code",[e._v("yum remove glx-utils")])]),e._v(" "),s("p",[e._v("###yum 安装")]),e._v(" "),s("h3",{attrs:{id:"_2-6-disable-nouveau"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-disable-nouveau"}},[e._v("#")]),e._v(" 2.6 Disable nouveau")]),e._v(" "),s("p",[e._v("2.6.1 Create or edit blacklist.conf")]),e._v(" "),s("p",[e._v("Append ‘blacklist nouveau’")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('echo "blacklist nouveau" >> /etc/modprobe.d/blacklist.conf\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("但在最新的fedora中")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("su root\nvim /lib/modprobe.d/dist-blacklist.conf\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("\n#将nvidiafb注释掉。\n\n#blacklist nvidiafb \n\n\n#然后添加以下语句：\n\n    blacklist nouveau  \n    options nouveau modeset=0  \n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br"),s("span",{staticClass:"line-number"},[e._v("9")]),s("br"),s("span",{staticClass:"line-number"},[e._v("10")]),s("br")])]),s("p",[e._v("仍然报错的话，可以完全禁用独显和集显\n"),s("code",[e._v("quiet LANG=en_US.UTF-8 nomodeset vga=79")])]),e._v(" "),s("p",[e._v("2.6.2 Edit /etc/sysconfig/grub")]),e._v(" "),s("p",[e._v("Append")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("nouveau.modeset=0 rd.driver.blacklist=nouveau nouveau.runpm=0\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("to end of ‘GRUB_CMDLINE_LINUX=”…”‘")]),e._v(" "),s("p",[e._v("2.6.3 Update grub2 conf")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("## BIOS ##\ngrub2-mkconfig -o /boot/grub2/grub.cfg\n\n## UEFI ##\ngrub2-mkconfig -o /boot/efi/EFI/fedora/grub.cfg\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br")])]),s("p",[e._v("2.6.4 Remove xorg-x11-drv-nouveua")]),e._v(" "),s("h2",{attrs:{id:"fedora-28-27-26-25-24-23-22"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fedora-28-27-26-25-24-23-22"}},[e._v("#")]),e._v(" Fedora 28/27/26/25/24/23/22")]),e._v(" "),s("p",[e._v("dnf remove xorg-x11-drv-nouveau")]),e._v(" "),s("h2",{attrs:{id:"fedora-21"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fedora-21"}},[e._v("#")]),e._v(" Fedora 21")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("yum remove xorg-x11-drv-nouveau\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("If you have following row on /etc/dnf/dnf.conf file, then you can remove it:")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("exclude=xorg-x11*\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("2.6.5 Generate initramfs")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("## Backup old initramfs nouveau image ##\nmv /boot/initramfs-$(uname -r).img /boot/initramfs-$(uname -r)-nouveau.img\n \n## Create new initramfs image ##\ndracut -v /boot/initramfs-$(uname -r).img $(uname -r)\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br")])]),s("p",[e._v("2.7 Reboot to runlevel 3")]),e._v(" "),s("p",[e._v("Note: You don’t have Desktop/GUI on runlevel 3. Make sure that you have some access to end of guide. (Print it, use lynx/links/w3m, save it to text file).")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("systemctl set-default multi-user.target\n\nreboot\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br")])]),s("p",[e._v("2.8 confirm")]),e._v(" "),s("p",[e._v("接着，重启电脑。查看nouveau是否已经禁用")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("    lsmod | grep nouveau  \n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("如果没有输出就表示已经屏蔽")]),e._v(" "),s("h3",{attrs:{id:"_2-8-install-nvidia-proprietary-drivers-for-geforce-6-7-geforce-8-9-200-300-geforce-400-500-600-700-800-900-10-series-cards"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-8-install-nvidia-proprietary-drivers-for-geforce-6-7-geforce-8-9-200-300-geforce-400-500-600-700-800-900-10-series-cards"}},[e._v("#")]),e._v(" 2.8 Install nVidia proprietary drivers for GeForce 6/7 & GeForce 8/9/200/300 & GeForce 400/500/600/700/800/900/10 series cards")]),e._v(" "),s("p",[e._v("2.8.1 Log in as root user\nOr alternatively change root user (you shouldn’t have nouveua and xorg loaded)")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("su -\n## OR ##\nsudo -i\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br")])]),s("p",[e._v("2.8.2 Run NVIDIA Binary\nFollowing command executes driver install routine. Use full file name command if you have multiple binaries on same directory.")]),e._v(" "),s("p",[e._v("./NVIDIA-Linux-*.run")]),e._v(" "),s("h2",{attrs:{id:"or-full-path-full-file-name"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#or-full-path-full-file-name"}},[e._v("#")]),e._v(" OR full path / full file name")]),e._v(" "),s("p",[e._v("/path/to/NVIDIA-Linux-x86_64-396.45.run")]),e._v(" "),s("p",[e._v("./NVIDIA-Linux-x86_64-390.77.run")]),e._v(" "),s("p",[e._v("/path/to/NVIDIA-Linux-x86_64-340.107-patched.run")]),e._v(" "),s("p",[e._v("/home/"),s("username",[e._v("/Downdloads/NVIDIA-Linux-x86_64-304.137-patched.run\n2.8.3 nVidia Installer Register the Kernel Source Modules with DKMS\nnVidia Installer dkms")])],1),e._v(" "),s("p",[e._v("2.8.4 nVidia Installer 32-bit Compatibility Libraries\nnVidia Installer 32-bit Compatibility Libraries")]),e._v(" "),s("p",[e._v("2.8.5 nVidia Installer Installing Drivers and Building kernel module\nnVidia Installer Installing Files")]),e._v(" "),s("p",[e._v("nVidia Installer Building Kernel Module")]),e._v(" "),s("p",[e._v("nVidia Installer Installing Kernel Module")]),e._v(" "),s("p",[e._v("Note: If you get libglvnd error, then abort installation and try this. Also “Install and overwrite existing files” works, but fixing this error is more clean way to install NVIDIA Drivers.")]),e._v(" "),s("p",[e._v("2.8.6 nVidia Installer Automatic Xorg Config and Backup\nnVidia Installer Automatic Xorg Config and Backup")]),e._v(" "),s("p",[e._v("2.8.7 nVidia Drivers Installation Complete\nnVidia Drivers Installation Complete")]),e._v(" "),s("p",[e._v("2.9 All Is Done and Then Reboot Back to Runlevel 5\nsystemctl set-default graphical.target")]),e._v(" "),s("p",[e._v("reboot\n2.10 VDPAU/VAAPI support\nTo enable video acceleration support for your player (Note: you need Geforce 8 or later).")]),e._v(" "),s("h2",{attrs:{id:"fedora-28-27-26-25-24-23-22-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fedora-28-27-26-25-24-23-22-2"}},[e._v("#")]),e._v(" Fedora 28/27/26/25/24/23/22")]),e._v(" "),s("p",[e._v("dnf install vdpauinfo libva-vdpau-driver libva-utils")]),e._v(" "),s("h2",{attrs:{id:"fedora-21-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fedora-21-2"}},[e._v("#")]),e._v(" Fedora 21")]),e._v(" "),s("p",[e._v("yum install vdpauinfo libva-vdpau-driver libva-utils")]),e._v(" "),s("ol",{attrs:{start:"3"}},[s("li",[e._v("Some Screenshots Using Different Cards and Drivers\n3.1 nVidia 396.45 drivers on Fedora 28 Gnome 3.28.2 with Kernel 4.17.7\nnVidia 396.45 Running on Fedora 28 Kernel 4.17.7 Gnome 3.28.2")])]),e._v(" "),s("p",[e._v("3.2 nVidia 390.77 drivers on Fedora 28 Gnome 3.28.2 with Kernel 4.17.7\nnVidia 390.77 Running on Fedora 28 Kernel 4.17.7 Gnome 3.28.2")]),e._v(" "),s("p",[e._v("3.3 nVidia 340.107 drivers on Fedora 28 Gnome 3.28.2 with Kernel 4.17.7\nnVidia 340.107 Running on Fedora 28 Kernel 4.17.7 Gnome 3.28.2")]),e._v(" "),s("p",[e._v("3.4 nVidia 304.137 drivers on Fedora 27 LXDE with Kernel 4.13\nnVidia 304.137 drivers on Fedora 27 LXDE with Kernel 4.13")]),e._v(" "),s("p",[e._v("Let me know, if you have problems?")]),e._v(" "),s("p",[e._v("Or if you succeed, you could post output of following commands:")]),e._v(" "),s("p",[e._v("nvidia-installer -v |grep version")]),e._v(" "),s("p",[e._v("uname -a")]),e._v(" "),s("p",[e._v('lspci |grep -E "VGA|3D"')])])}),[],!1,null,null,null);a.default=t.exports}}]);