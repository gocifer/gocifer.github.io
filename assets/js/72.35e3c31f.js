(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{649:function(s,a,e){"use strict";e.r(a);var t=e(4),r=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"chromeos容器crostini安装linux中文输入法教程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#chromeos容器crostini安装linux中文输入法教程"}},[s._v("#")]),s._v(" ChromeOS容器crostini安装Linux中文输入法教程")]),s._v(" "),e("h2",{attrs:{id:"修改配置文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改配置文件"}},[s._v("#")]),s._v(" 修改配置文件")]),s._v(" "),e("ul",[e("li",[s._v("使用vi/vim 编辑器修改系统"),e("code",[s._v("cros-garcon.service")]),s._v(" 服务的覆盖配置文件（需要root 权限）")])]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/systemd/user/cros-garcon.service.d/cros-garcon-override.conf\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("details",{staticClass:"custom-block details"},[e("summary",[s._v("点击查看")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://chromium.googlesource.com/chromiumos/containers/cros-container-guest-tools/+/master/cros-garcon/cros-garcon.service",target:"_blank",rel:"noopener noreferrer"}},[s._v("cros-garcon"),e("OutboundLink")],1),s._v(" 服务是 crostini 容器中的一个启动服务，用来启动Linux 容器中的 "),e("a",{attrs:{href:"https://chromium.googlesource.com/chromiumos/platform2/+/master/vm_tools/garcon/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Garcon"),e("OutboundLink")],1),s._v(" 进程。下面是systemctl service 配置文件：")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("\n[Unit]\nDescription=Chromium OS Garcon Bridge\nAfter=sommelier@0.service sommelier-x@0.service\n\n[Service]\nType=simple\nExecStart=/opt/google/cros-containers/bin/garcon --server\nExecStopPost=/opt/google/cros-containers/bin/guest_service_failure_notifier cros-garcon\n\n[Install]\nWantedBy=default.target\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])]),e("p",[e("a",{attrs:{href:"https://chromium.googlesource.com/chromiumos/platform2/+/master/vm_tools/garcon/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Garcon"),e("OutboundLink")],1),s._v(" 是一个运行在Chrome OS Linux容器(准确来说是运行在crostini 轻量级虚拟机中 )，它用来使容器级的特性能与主机中的各种应用进行双向通信，具体是通过使用 "),e("code",[s._v("vsock")]),s._v(" 与主机进行 gRPC 调用。")])]),s._v(" "),e("ul",[e("li",[s._v("在文件中添加下面三行配置文件，使用 fcitx（Flexible Input Method Framework）输入法框架作为各种图形界面库的输入法模块：")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('Environment="GTK_IM_MODULE=fcitx"\nEnvironment="QT_IM_MODULE=fcitx"\nEnvironment="XMODIFIERS=@im=fcitx"\n')])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("增加的是下面图片的最后三行，前面可能并不一样，不用管")]),s._v(" "),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"image-20201124095357460","data-src":"/img/docimg/image-20201124095357460.png",loading:"lazy"}})]),s._v(" "),e("h2",{attrs:{id:"安装配置-fcitx-输入法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装配置-fcitx-输入法"}},[s._v("#")]),s._v(" 安装配置 fcitx 输入法")]),s._v(" "),e("ul",[e("li",[s._v("这边使用的是 google拼音输入法，虽然功能非常简单，")]),s._v(" "),e("li",[s._v("但也因此本着“多做多错”的原则，经过 sunpinyin、sougoupinyin 测试比较，使用体验比较好，服务报错相对也比较少")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("sudo apt install fcitx-googlepinyin\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("ul",[e("li",[s._v("安装谷歌拼音输入法后，启动fcitx 服务（默认没有该服务，直接在命令行输入 "),e("code",[s._v("fcitx &")]),s._v(" 即可）")]),s._v(" "),e("li",[s._v("在fcitx-config（命令行输入 "),e("code",[s._v("fcitx-config-gtk3")]),s._v("）里删掉所有的输入法")]),s._v(" "),e("li",[s._v("然后依次添加英文键盘和谷歌拼音")]),s._v(" "),e("li",[s._v("即可用 "),e("code",[s._v("Ctrl+空格")]),s._v(" 切换输入法了")])]),s._v(" "),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"image-20201124101855713","data-src":"/img/docimg/image-20201124101855713.png",loading:"lazy"}})]),s._v(" "),e("ul",[e("li",[s._v("默认是切换输入法的快捷方式 "),e("code",[s._v("Ctrl-Space")]),s._v(" 和 VsCode 是冲突的，因此我是将 "),e("code",[s._v("Alt-Space")]),s._v(" 设置为切换输入法的快捷方式")])]),s._v(" "),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"image-20201124102556251","data-src":"/img/docimg/image-20201124102556251.png",loading:"lazy"}})]),s._v(" "),e("ul",[e("li",[s._v("看一下在"),e("code",[s._v("typora")]),s._v(" 下的使用体验吧，真香！")])]),s._v(" "),e("p",[e("img",{staticClass:"lazy",attrs:{alt:"image-20201124102737037","data-src":"/img/docimg/image-20201124102737037.png",loading:"lazy"}})])])}),[],!1,null,null,null);a.default=r.exports}}]);